---
title: "Predictions"
output: html_notebook
---

This notebook describes the predicted results for a Boundary Extension project with objects and scenes

```{r prep}
library(tidyverse)
library(msm)
library(Hmisc)
library(svglite)
```

Next, prepare the data
```{r data}


sim_data <- function(nS=2, nI=100, nLevels=10, nTypes=2, std=1){
  
  dp <- seq(from=0, to=5, length.out = nLevels)
  
  d <- tibble::tibble(subject = rep(1:nS, each=nI, times=nTypes)) %>%
    dplyr::mutate(item = rep(1:nI, times=nS*nTypes)) %>%
    dplyr::mutate(type = rep(1:nTypes, each=nS*nI)) %>% # 1 => object, 2 => scene
    dplyr::mutate(occluded = rep(seq(from=0,to=.9, by=.1), each=nI/nLevels, times=nS*nTypes)) %>%
    dplyr::mutate(occluded = factor(occluded)) %>%
    dplyr::mutate(subject = factor(subject)) %>%
    dplyr::mutate(item = factor(item)) %>%
    dplyr::mutate(type = plyr::mapvalues(type, from=1:2, to=c('Object','Scene'))) %>%
    dplyr::mutate(type = factor(type)) %>%
    dplyr::mutate(dp = dp[occluded]) %>%
    dplyr::mutate(dp = dp + rnorm(n(), 0, std))
  
  return(d)
}


```

```{r plot}

sim_data(std=.5) %>%
  ggplot(mapping = aes(x=occluded, y=dp)) +
  facet_grid(.~type) +
  geom_point() +
  xlab("Proportion Occluded") +
  ylab('d`') +
  theme(
    axis.text.y = element_blank()
    , axis.ticks = element_blank()
    , panel.background = element_blank()
    , plot.background = element_blank()
    , axis.line = element_line()
  ) +
  ggsave('out.eps')

```

Instead, perhaps it makes sense to talk about scenes as they are generally discussed, a binary of close-up and wide-angle. Objects will always be shown 10% more occluded (baseline of 0-0, rather than 10%-0%).
```{r, data2}



```

