---
title: "Predictions"
output: html_notebook
---

This notebook describes the predicted results for a Boundary Extension project with objects and scenes

```{r prep}
library(tidyverse)
library(msm)
library(Hmisc)
```

Next, prepare the data
```{r data}


sim_data <- function(nS=10, nI=100, nLevels=10, nTypes=2, std=1){
  
  dp <- seq(from=0, to=5, length.out = nLevels)
  
  d <- tibble::tibble(subject = rep(1:nS, each=nI, times=nTypes)) %>%
    dplyr::mutate(item = rep(1:nI, times=nS*nTypes)) %>%
    dplyr::mutate(type = rep(1:nTypes, each=nS*nI)) %>% # 1 => object, 2 => scene
    dplyr::mutate(occluded = rep(seq(from=0,to=90, by=10), each=nI/nLevels, times=nS*nTypes)) %>%
    dplyr::mutate(occluded = factor(occluded)) %>%
    dplyr::mutate(subject = factor(subject)) %>%
    dplyr::mutate(item = factor(item)) %>%
    dplyr::mutate(type = plyr::mapvalues(type, from=1:2, to=c('object','scene'))) %>%
    dplyr::mutate(type = factor(type)) %>%
    dplyr::mutate(dp = dp[occluded]) %>%
    dplyr::mutate(dp = dp + rtnorm(n(), 0, std, lower=0))
  
  return(d)
}


```

```{r plot}

sim_data(std=5) %>%
  ggplot(mapping = aes(x=occluded, y=dp)) +
  facet_grid(.~type) +
  stat_summary(fun.data = "mean_cl_boot") +
  xlab("% Occluded") +
  ylab('d`') +
  theme(
    axis.text.y = element_blank()
    , axis.ticks = element_blank()
    , panel.background = element_blank()
    , plot.background = element_blank()
    , axis.line = element_line()
  )

```

